<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8" />
    <meta name="description" content="Official Handbook of the No Cookie Crew" />
    <title>Unhosted 7: ActivityStreams to federate with the platforms</title>
    <link rel="stylesheet" href="../hljs/default.min.css" />
    <link rel="hub" href="http://pubsubhubbub.appspot.com/"/>
    <link rel="updates alternate" type="application/atom+xml" href="../feed.atom" />
    <link rel="author" type="text/html" href="https://michielbdejong.com/"/>

    <script src="../hljs/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <link rel="stylesheet" href="../adventures.css" />
  </head>

  <body>
    <article>
      <header>
        <h1>Unhosted Adventures</h1>
        <h2>Official Handbook of the No Cookie Crew</h2>
      </header>
      <h2>Episode 7: ActivityStreams to federate with the platforms</h2>
you may have noticed we used a general format:
    {
      '@type': 'command',
      world: world,
      '@id': new Date().getTime(),
      verb: verb,
      object: object,
      target: target,
      token: config.token
    }

- token should match for the socket (one access level)
- @id will be referred to in replies
- will be dispatched to world.
- verb will determine interpretation of object and target fields.
- will respond with 'failure' or 'completed', and optionally 'progress' responses, all which can have 'result' fields which will be objects merged and arrays joined; rest overwritten.
    {
      '@type': 'welcome',
      '@context': 'https://unhosted.org/spec/mysocks-1.html'
    }

ping (no world): will not be dispatched or logged
execute: object is a command executable in world. result: {stdout, stderr}
retrieve: target is a resource path in world, result: contents (utf-8 string)
store: target is a resource path in world, object: contents (utf-8 string)


##5.1 modularity: run services on unix sockets, and dispatch to them from the pinger-server.
##5.2 first two welten modules: 'shell' and 'file'. run them with 'forever'
##5.3 dispatcher
##5.4 client: editor-pinger. Command format (ones with * go to the welten modules):
    @context: https://unhosted.org/spec/sockethub/1.0/command
    @type: ping
    id: millitimestamp
    token: config.token
    
    @context: https://unhosted.org/spec/sockethub/1.0/command
    world: shell
    * @type: execute
    * object: (command)
    * result: stdout, stderr
    id: millitimestamp
    token: config.token
    
    @context: https://unhosted.org/spec/sockethub/1.0/command
    world: file
    * @type: retrieve/save
    * object: (contents in case of save)
    * target: (path)
    * result: (string for retrieve)
    id: millitimestamp
    token: config.token

##4.4 overview of the api for welten modules

#5 Sockethub clients and welten modules [NCC warnings: none.]
##5.1 the importance of standardization
##5.2 json-ld
##5.3 welten: makeWorld (should already start sock!), registerHandler(@type), reportActivity.
##5.4 sockethub:
    * client->server @type 'command'
    * server->client reply (keep 'id' field): @type 'completed'/'failure'/'running'
    * server->client @type 'activity'
##5.5 json-ld commands @type: (actor, verb, object, target, ...)->(result). activities: AS


    </article>      
	
    <div class="logo">
      <img src="/img/island-color.png" />
    </div>
    
    <nav>
      <div id="episodes">
        <h4>Episodes:</h4>
        <p>(loading index)</p>
      </div>
            
      <div>
        <h4>Follow:</h4> 
        <ul>
          <li style="list-style-image: url('/img/atom.gif')"><a target="_blank" href="../feed.atom">atom</a></li>
          <li style="list-style-image: url('/img/rss2.gif')"><a target="_blank" href="../feed.rss">rss</a></li>
          <li style="list-style-image: url('/img/facebook.gif')"><a target="_blank" href="https://www.facebook.com/unhostedwebapps">facebook</a></li>
          <li style="list-style-image: url('/img/twitter.png')"><a target="_blank" href="https://twitter.com/unhosted">twitter</a></li>
          <li style="list-style-image: url('/img/statusnet.png')"><a target="_blank" href="https://identi.ca/unhosted">identica</a></li>
          <li style="list-style-image: url('/img/diaspora.png')"><a target="_blank" href="https://joindiaspora.com/u/unhosted">diaspora</a></li>
          <li style="list-style-image: url('/img/mailinglist.jpg')"><a target="_blank" href="https://groups.google.com/forum/#!forum/unhosted">mailing list</a></li>
          <li style="list-style-image: url('/img/irc.png')"><a target="_blank" href="http://webchat.freenode.net/?channels=#unhosted">irc channel</a></li>
        </ul>
      </div>
      
      <div>
        <h4>Author:</h4>
        <div class="logo">
          <img src="/img/michiel.jpg" />
        </div>
        <p>
          <a href="https://michielbdejong.com/">Michiel B. de Jong</a>
        </p>
      </div>
      
      <div>      
        <h4>Location:</h4>
        <div class="logo">
          <img src="/img/hackerbeach.png">
        </div>
        <p>
          <a href="http://hackerbeach.org/">Hacker Beach</a>
        </p>
      </div>
      
      <div>
        <h4>Unho코콘12 unconference:</h4>
        <p>
          <a class="logo" href="http://2012.unhosted.org/">
            <img src="/img/2012.png"/>
          </a>
          &nbsp;
        </p>
      </div>
      
      <div>
        <h4>Unho코콘13 unconference:</h4>
        <p>
          <a class="logo" href="http://2013.unhosted.org/">
            <img src="/img/2013.png"/>
          </a>
          &nbsp;
        </p>
      </div>
      
      <div>
        <h4>Spin-off projects:</h4>
        <p>
          <a class="logo" href="http://remotestorage.io/">
            <img src="/img/remotestorage.png"/>
          </a>
          &nbsp;
        </p>

        <p>
          <a class="logo" href="http://tos-dr.info/">
            <img src="/img/tosdr.png"/>
          </a>
          &nbsp;
        </p>

        <p>
          <a class="logo" href="http://opentabs.net/">
            <img src="/img/opentabs.png"/>
          </a>
          &nbsp;
        </p>
      </div>
      
      <div>
        <h4>Supporters:</h4>
        <p>
          <a class="logo" href="http://nlnet.nl/">
            <img src="/img/nlnet.gif" />
          </a>
          &nbsp;
        </p>

        <p>
          <a class="logo" href="http://wauland.de/">
            <img src="/img/wau.png" />
          </a>
          &nbsp;
        </p>

        <p>
          <a class="logo" href="http://www.gabrielweinberg.com/blog/2012/03/duckduckgo-foss-donations-2011.html">
            <img src="/img/duckduckgo.jpg" />
          </a>
          &nbsp;
        </p>

        <p>
          and <a href="/thankyou.html">many more</a>&hellip;
        </p>
      </div>
    </nav>
    
    <footer>
      <strong>You can follow</strong>
      <img src="/img/twitter.png" /><a target="_blank" href="https://twitter.com/unhosted">@unhosted</a>
      <strong>on twitter and in</strong>
      <a href="#">many other ways</a><strong>. So stay tuned! :)</strong>
      </strong>
    </footer>
  </body>
  <script src="../episodes.js"></script>
</html>