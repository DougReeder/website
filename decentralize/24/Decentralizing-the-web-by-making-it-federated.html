<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8" />
    <meta name="description" content="weekly handbook about unhosted web apps" />
    <title>unhosted web apps 24: federation</title>
    <link rel="stylesheet" href="/adventures/hljs/default.min.css" />
    <link rel="hub" href="http://pubsubhubbub.appspot.com/"/>
    <link rel="updates alternate" type="application/atom+xml" href="/adventures/feed.atom" />
    <link rel="author" type="text/html" href="https://michielbdejong.com/"/>

    <script src="/adventures/hljs/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <link rel="stylesheet" href="/adventures/adventures.css" />
  </head>

  <body>
    <article>
      <header>
        <h1>unhosted web apps</h1>
        <h2>freedom from web 2.0's monopoly platforms</h2>
      </header>
      
      <h2>24. Decentralizing the web by making it federated</h2>

<!-- federation: Decentralizing the web by making it federated -->
<h3>Clients and servers</h3>
<p>The end-to-end principle that underlies the basic design of the internet treats all devices in the same neutral way. But in practice, that is not what the internet does. There is quite a strict distinction between client devices in one role, and (clusters of) servers in the other.</p>
<p>Generally speaking, a server is addressable, and a client is not. A server usually has a domain name pointing to it, and a client device usually doesn't. A big chunk of internet traffic is communication between one client device and one server. When two client devices communicate with each other, we call that peer-to-peer communication. And the third category is server-to-server traffic, where two or more servers communicate with each other.</p>

<h3>Server-to-server traffic</h3>
<p>The actual consumption of the usefulness of the internet, happens on the client devices. The servers only ever play an intermediate role in this. This role can be to execute a certain data processing task, to store data for future use, or to be an addressable intermediate destination where data can be routed to.</p>
<p>The ability to store and process data is pretty generic and replacable. It is the addressibility of servers, and restrictions placed on that addressability, that can give them an irreplacable role in certain communication sessions.</p>
<p>As an example, let's have a look at XMPP. This protocol is used a lot for text chat and other real-time communication. The standard describes a client-to-server protocol and a server-to-server protocol. If alice@alice.com wants to contact bob@bob.com, then she tells her client device to connect to her alice.com server. Bob also tells his client device to connect to the bob.com server. After that the alice.com server can contact the bob.com server to successfully deliver a message to Bob. So the message travels from Alice's client, to Alice's server, to Bob's server, to Bob's client.</p>
<p>It is obvious why the message cannot travel directly from Alice's client device to Bob's client device: even if Bob is online (his client device is connected to the internet), client devices are not (practically) addressable, so at least one server is needed as an intermediate hop that can bounce the message on to Bob's current network location.</p>
<p>What is maybe not so obvious is why the client-server-server-client trapezium is needed, instead of a client-server-client triangle. The reason for this is that it makes it easier to check sender identity.</p>
<p>When the bob.com server receives a message from somewhere, this message might be spam. It needs some way to check that the message really came from Alice. The alice.com server can in this case guard and guarantee Alice's sender identity. The XMPP protocol
<a href="http://xmpp.org/rfcs/rfc3920.html#stanzas">uses SASL</a> to allow the bob.com server to know that it is the alice.com server that is contacting it.</p>
<p>It would be possible to do something like that in a client-server-client triangle route, but that would require the client to provide a proof of identity, for instance if the sending client creates a message signature from the private part of an asymmetric key pair, like PGP does. Even then, people usually relay outgoing email through their mailserver because email from domestic IP addresses is often blocked, both by the actual ISP, as by many recipient mailservers.</p>
<p>Web hosting is a prime example where the client-server-client triangle route is used, but in this case it is the sender's server that is used, since the recipient of the content of a web page does not need to be addressable. But many messaging protocols use the client-server-server-client trapezium route where server-to-server traffic forms the central part.</p>

<h3>The internet as a federation of servers</h3>
<p>For internet traffic that follows a trapezium-shaped client-server-server-client route, both the sending and the receiving user connect their client device to their own server. So clients are grouped around servers like moons around planets, and server-to-server connections form the actual federated network, where any server that has a domain name pointing to it and that speaks the right protocols, can participate.</p>

<h3>Alas, not really</h3>
<p>Unfortunately, this picture is only how the federated internet was designed. It doesn't truthfully reflect the actual situation in practice. First of all, the vast majority of users don't run their own server, and don't even have their own domain name; not even a subdomain. In fact, only a handful of DNS domainnames are used to create user identities, "*@facebook.com" currently being the most important one.</p>
<p>Furthermore, a lot of the interconnections between servers are missing. This means that a client device needs to establish a client-to-server connection to the Google XMPP interface <em>as well as</em> the Facebook XMPP interface, in order to successfully chat with all their friends.</p>
<p></p>

<h3></h3>
<h3></h3>
<h3></h3>

<p>If anyone would like to comment on this episode, <a href="https://groups.google.com/forum#!forum/unhosted">please do!</a></p>

      <p>The next episode will appear on Tuesday 4 June, 2013.</p>    </article>      
	
    <div class="logo">
      <img src="../../img/island-color.png" />
    </div>
    
    <nav>
      <div>

<h4>Overview:</h4>
        <p> i. <a href="/">definition</a></p>
        <p> ii. <a href="http://remotestorage.io/integrate">getting started</a></p>
        <p> iii. <a href="/apps/">example apps</a></p>
        <p> iv. <a href="/people/">people</a></p>
        <p> v. <a href="/events/">events</a></p>
        <p> vi. <a href="/tools/">dev tools</a></p>
        <p> vii. <a href="https://groups.google.com/forum/#!forum/unhosted">forum</a></p>

<h4>Adventures:</h4>
        <p> 1. <a href="/adventures/1/Personal-servers-and-unhosted-web-apps.html">intro</a></p>
        <p> 2. <a href="/adventures/2/An-unhosted-editor.html">editor</a></p>
        <p> 3. <a href="/adventures/3/Setting-up-your-personal-server.html">server</a></p>
        <p> 4. <a href="/adventures/4/WebSockets.html">WebSockets</a></p>
        <p> 5. <a href="/adventures/5/Facebook-and-Twitter-from-nodejs.html">social</a></p>
        <p> 6. <a href="/adventures/6/Controlling-your-server-over-a-WebSocket.html">webshell</a></p>
        <p> 7. <a href="/adventures/7/Adding-remote-storage-to-unhosted-web-apps.html">remoteStorage</a></p>
        <p> 8. <a href="/adventures/8/Collecting-and-organizing-your-data.html">your data</a></p>
        <p> 9. <a href="/adventures/9/Sending-and-receiving-email-from-unhosted-web-apps.html">email</a></p>
        <p> 10. <a href="/adventures/10/Linking-things-together-on-the-world-wide-web.html">web linking</a></p>
        <p> 11. <a href="/adventures/11/App-hosting.html">app hosting</a></p>
        <p> 12. <a href="/adventures/12/App-discovery.html">app discovery</a></p>
        <p> 13. <a href="/adventures/13/Dealing-with-users-in-unhosted-web-apps.html">users</a></p>
        <p> 14. <a href="/adventures/14/Peer-to-peer-communication.html">p2p</a></p>
        <p> 15. <a href="/adventures/15/Unhosted-web-apps-and-OAuth.html">unhosted oauth</a></p>
        <p> 16. <a href="/adventures/16/Our-plan-to-save-the-web.html">save the web</a></p>

<h4>Decentralize:</h4>
        <p> 17. <a href="/decentralize/17/Cryptography.html">cryptography</a></p>
        <p> 18. <a href="/decentralize/18/Distributed-hash-tables.html">dht</a></p>
        <p> 19. <a href="/decentralize/19/BGP,-IP,-DNS,-HTTP,-TLS,-and-NAT.html">internet</a></p>
        <p> 20. <a href="/decentralize/20/Persona,-OpenID,-SAML,-WebID,-and-Webfinger.html">identity</a></p>
        <p> 21. <a href="/decentralize/21/Client-side-sessions,-origins,-browser-tabs,-and-WebIntents.html">browser sessions</a></p>
        <p> 22. <a href="/decentralize/22/How-to-locate-resources.html">search</a></p>
        <p> 23. <a href="/decentralize/23/Network-neutrality,-ubiquitous-wifi,-and-DRM.html">neutrality</a></p>
        <p><strong>24. federation</strong></p>
      </div>
      
      <div>
        <h4 id="follow">Follow:</h4> 
        <ul>
          <li style="list-style-image: url('../../img/atom.gif')"><a target="_blank" href="../feed.atom">atom</a></li>
          <li style="list-style-image: url('../../img/rss2.gif')"><a target="_blank" href="../feed.rss">rss</a></li>
          <li style="list-style-image: url('../../img/facebook.gif')"><a target="_blank" href="https://www.facebook.com/unhostedwebapps">facebook</a></li>
          <li style="list-style-image: url('../../img/twitter.png')"><a target="_blank" href="https://twitter.com/unhosted">twitter</a></li>
          <li style="list-style-image: url('../../img/statusnet.png')"><a target="_blank" href="https://identi.ca/unhosted">identica</a></li>
          <li style="list-style-image: url('../../img/diaspora.png')"><a target="_blank" href="https://joindiaspora.com/u/unhosted">diaspora</a></li>
          <li style="list-style-image: url('../../img/mailinglist.jpg')"><a target="_blank" href="https://groups.google.com/forum/#!forum/unhosted">mailing list</a></li>
          <li style="list-style-image: url('../../img/irc.png')"><a target="_blank" href="http://webchat.freenode.net/?channels=#unhosted">irc channel</a></li>
        </ul>
      </div>
            
      <div>
        <h4>Author:</h4>
        <div class="logo">
          <img rel="author avatar" src="../../img/michiel.jpg" />
        </div>
        <p>
          <a rel="author" href="https://michielbdejong.com/">Michiel B. de Jong</a>
        </p>
      </div>
      
      <div>
        <h4>Supporters:</h4>
        <p>
          <a class="logo" href="http://nlnet.nl/">
            <img src="../../img/nlnet.png" />
          </a>
          &nbsp;
        </p>

        <p>
          <a class="logo" href="http://wauland.de/">
            <img src="../../img/wau.png" />
          </a>
          &nbsp;
        </p>

        <p>
          <a class="logo" href="http://www.gabrielweinberg.com/blog/2012/03/duckduckgo-foss-donations-2011.html">
            <img src="../../img/duckduckgo.jpg" />
          </a>
          &nbsp;
        </p>

        <p>
          and <a href="../../thankyou.html">many more</a>&hellip;
        </p>
      </div>
    </nav>
    
    <footer>
      <strong>You can follow</strong>
      <img src="../../img/twitter.png" /><a target="_blank" href="https://twitter.com/unhosted">@unhosted</a>
      <strong>on twitter and in</strong>
      <a href="/adventures/1/Personal-servers-and-unhosted-web-apps.html#follow">many other ways</a><strong>. So stay tuned! :)</strong>
      </strong>
    </footer>
  </body>
</html>
